(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='#Anonymous Authentication\r\nUse this OrderCloud hook when you want to authenticate a react component or application anonymously.\r\n\r\n```tsx\r\nimport { useAuth } from "@ordercloud/react-hooks";\r\n\r\nconst CLIENT_ID = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx";\r\nconst SCOPE = ["FullAccess"];\r\n\r\nconst AnonymousComponent = () => {\r\n  const [user] = useAnonymousAuth(CLIENT_ID, SCOPE);\r\n  return <pre>{JSON.stringfy(user, null, 2)}</pre>;\r\n};\r\n```\r\n'},287:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),jwt_decode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(288),jwt_decode__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jwt_decode__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__.a=function(clientId,scope){var _a=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(),error=_a[0],setError=_a[1],_b=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__.c.GetAccessToken()),token=_b[0],setToken=_b[1],_c=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(),user=_c[0],setUser=_c[1];return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var unmounted=!1;return setError(void 0),token&&function(token,clientid,scope){var parsedToken=jwt_decode__WEBPACK_IMPORTED_MODULE_2___default()(token);return!!parsedToken&&(!(!parsedToken.cid||!parsedToken.role)&&(parsedToken.cid===clientid.toLowerCase()&&parsedToken.role===(scope.length>1?scope:scope[0])))}(token,clientId,scope)?ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__.b.Get().then((function(user){unmounted||setUser(user)})):ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__.a.Anonymous(clientId,scope).then((function(auth){unmounted||(setToken(auth.access_token),ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__.c.SetAccessToken(auth.access_token),auth.refresh_token&&ordercloud_javascript_sdk__WEBPACK_IMPORTED_MODULE_1__.c.SetRefreshToken(auth.refresh_token))})).catch((function(ex){return setError(ex.response.data)})),function(){unmounted=!0}}),[clientId,scope,token]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return[user,error]}),[user,error])}},289:function(module,exports,__webpack_require__){__webpack_require__(290),__webpack_require__(436),__webpack_require__(437),module.exports=__webpack_require__(650)},354:function(module,exports){},437:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(122);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(617),module)}.call(this,__webpack_require__(216)(module))},617:function(module,exports,__webpack_require__){var map={"./stories/useAuth.stories.tsx":618};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=617},618:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(122),_notes_useAnonymousAuth_md__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(286),_hooks_useAnonymousAuth__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(287),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(91),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Authentication",module),scope="Shopper".split(" ");stories.add("Anonymous",(function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement((function(){var _a=Object(_hooks_useAnonymousAuth__WEBPACK_IMPORTED_MODULE_3__.a)(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.text)("clientid","2786113D-5DF5-475D-9428-25F9066B93E4"),Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.array)("scope",scope)),user=_a[0],error=_a[1];return error?react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",{style:{color:"red"}},JSON.stringify(error,null,2)):react__WEBPACK_IMPORTED_MODULE_0__.createElement("pre",null,JSON.stringify(user,null,2))}))}),{notes:_notes_useAnonymousAuth_md__WEBPACK_IMPORTED_MODULE_2__.a}).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_4__.withKnobs)}.call(this,__webpack_require__(216)(module))}},[[289,1,2]]]);
//# sourceMappingURL=main.16f7af6d835cbafef4c6.bundle.js.map